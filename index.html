<!DOCTYPE HTML>
<html>
	<title>Callum's Portfolio</title>
	<head>
		<link rel="stylesheet" type="text/css" href="index.css">
		<script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
		<script>
			var gProjects = 
			[
				{
					name: 'Krypta Editor',
					repo: 'http://github.com/terrorcell/KryptaEditorQT',
					titlePath: './images/KryptaEditorQT/title.png',
					hoverPath: './images/KryptaEditorQT/title_over.png',
					links: [
						'./images/KryptaEditorQT/1.png',
						'./images/KryptaEditorQT/2.png',
						'./images/KryptaEditorQT/3.png',
						'./images/KryptaEditorQT/4.png',
						'./images/KryptaEditorQT/5.png',
						'./images/KryptaEditorQT/6.png',
						'./images/KryptaEditorQT/7.png',
						'./images/KryptaEditorQT/8.png',
					],
					index: 0
				},
				{
					name: 'System Command',
					repo: 'http://github.com/terrorcell/7dRTS',
					titlePath: './images/7dRTS/title.png',
					hoverPath: './images/7dRTS/title_over.png',
					links: [
						'./images/7dRTS/1.png',
						'./images/7dRTS/2.png',
						'./images/7dRTS/3.png',
						'./images/7dRTS/4.png',
						'./images/7dRTS/5.png'
					],
					index: 3
				},
				{
					name: 'Notes Oblitus',
					repo: 'http://github.com/terrorcell/NotesOblitus',
					titlePath: './images/NotesOblitus/title.png',
					hoverPath: './images/NotesOblitus/title_over.png',
					links: [
						'./images/NotesOblitus/1.png',
						'./images/NotesOblitus/2.png'
					],
					index: 0
				}
			];
			
			$(document).ready(function() 
			{
				var finalHtml = '';
				for (var i = 0; i < gProjects.length; ++i)
				{
					var p = gProjects[i];
					finalHtml += '<div class="project">';
					finalHtml += '<a href="' + p.repo + '">';
					finalHtml += '<img class="prjtitle" id=prj' + i + ' src="' + p.titlePath + '" /></a></br>';
					finalHtml += '<img class="prjimg" id=prj' + i + ' src="' + p.links[p.index] + '" />';
					finalHtml += '</div>';
				}
				$('#main').html(finalHtml);
				var width = $(window).width() / 4;
				var height = $(window).width() / 5;
				$('.prjimg').width(width + 'px');
				$('.prjimg').height(height + 'px');
				
				window.setInterval(function()
				{
					$('img.prjimg').each(function(gindex)
					{
						var index = gProjects[gindex].index + 1;
						if (index >= gProjects[gindex].links.length)
							index = 0;
						$(this).attr('src', gProjects[gindex].links[index]);
						gProjects[gindex].index = index;
					});
				}, 3000);
			});
			
			$(document).on('click', 'img.prjimg', function()
			{
				var id = $(this).attr("id");
				var gindex = Number(id.slice(-1));
				var index = gProjects[gindex].index + 1;
				if (index >= gProjects[gindex].links.length)
					index = 0;
				$(this).attr('src', gProjects[gindex].links[index]);
				gProjects[gindex].index = index;
			});
			
			$(document).on('mouseenter', 'img.prjtitle', function()
			{
				var id = $(this).attr("id");
				var gindex = Number(id.slice(-1));
				$(this).attr('src', gProjects[gindex].hoverPath);
			});
			
			$(document).on('mouseleave', 'img.prjtitle', function()
			{
				var id = $(this).attr("id");
				var gindex = Number(id.slice(-1));
				$(this).attr('src', gProjects[gindex].titlePath);
			});
		</script>
	</head>
	<body>
		<div id="header">
			<img id="banner" src="./images/header.png" />
		</div>
		<div id="main"></div>
	</body>
</html>